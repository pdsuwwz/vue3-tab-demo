import{u as A}from"./useTabRouter-D_wdIkvi.js";import{d,o as n,b as r,e as a,c as S,w as O,g as _,u as t,m as W,cb as b,k as B,f as $,cA as J,cB as Y,I as q,cC as I,cD as Q,S as X,b8 as Z,F as D,l as R,cc as g,a1 as V,cE as ee,t as j,cx as N,h as te,bE as F}from"./index-BQQ2VPbK.js";import{_ as E}from"./Popover-DkcwTP-L.js";import{N as z}from"./Icon-BePXEFDU.js";import{_ as y}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{u as U}from"./store-DR4Batca.js";import"./Follower-BII3ZYJ5.js";import"./next-frame-once-C5Ksf8W7.js";import"./get-D1TFL870.js";import"./use-compitable-B-9Wj_ZY.js";const oe={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},ne=d({name:"ArrowBackUp",render:function(s,e){return n(),r("svg",oe,e[0]||(e[0]=[a("path",{d:"M9 13L5 9l4-4M5 9h11a4 4 0 0 1 0 8h-1",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)]))}}),se={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},ae=d({name:"AppFolder20Regular",render:function(s,e){return n(),r("svg",se,e[0]||(e[0]=[a("g",{fill:"none"},[a("path",{d:"M2 4.5A2.5 2.5 0 0 1 4.5 2h11A2.5 2.5 0 0 1 18 4.5v11a2.5 2.5 0 0 1-2.5 2.5h-11A2.5 2.5 0 0 1 2 15.5v-11zM4.5 3A1.5 1.5 0 0 0 3 4.5v11A1.5 1.5 0 0 0 4.5 17h11a1.5 1.5 0 0 0 1.5-1.5v-11A1.5 1.5 0 0 0 15.5 3h-11zM5 6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V6zm3 0H6v2h2V6zm-3 6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1v-2zm3 0H6v2h2v-2zm3-6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1V6zm3 0h-2v2h2V6zm-3 6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-2zm3 0h-2v2h2v-2z",fill:"currentColor"})],-1)]))}}),re=d({name:"TabsBack",__name:"TabsBack",setup(u){const s=A(),e=()=>{s.push("/")};return(p,l)=>{const h=z,i=E;return n(),S(i,{trigger:"hover",placement:"top-start"},{trigger:O(()=>[a("div",{id:"tabs-back-box",onClick:l[0]||(l[0]=T=>e())},[_(h,{component:t(ne)},null,8,["component"])])]),default:O(()=>[l[1]||(l[1]=W(" 返回首页 "))]),_:1})}}}),ce=y(re,[["__scopeId","data-v-5f13382f"]]),le=d({name:"TabsOutset",__name:"TabsOutset",setup(u){const s=A(),e=()=>{s.push({name:"GroupProjectDetail"})};return(p,l)=>{const h=z;return n(),r("div",{id:"tabs-outset-box",onClick:l[0]||(l[0]=i=>e())},[_(h,{component:t(ae)},null,8,["component"]),b("",!0)])}}}),ie=y(le,[["__scopeId","data-v-8726a2da"]]),ue={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},M=d({name:"CloseOutline",render:function(s,e){return n(),r("svg",ue,e[0]||(e[0]=[a("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M368 368L144 144"},null,-1),a("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M368 144L144 368"},null,-1)]))}}),pe=["onClick"],de=["title"],_e=["onClick"],he=d({name:"TabsHeader",__name:"Tabs",setup(u){const s=A(),e=U(),p=B(()=>e.currentTabsInCacheSpace.length===1),l=o=>{s.push(o.link)},h=o=>{e.removeTabFromCacheSpace(o)},i=$(),{arrivedState:T}=J(i),{left:w,right:m}=Y(T),k=$([]),L=()=>{setTimeout(async()=>{await V(),k.value.find(o=>{const f=o.classList.contains("active");return f&&o.scrollIntoView(),f})})},c=$(!1),x=ee(()=>{const{clientWidth:o,scrollWidth:f}=i.value;o<f?c.value=!0:c.value=!1},200);q(()=>{var o;return(o=e.currentCacheSpace)==null?void 0:o.activeTabKey},()=>{L()},{immediate:!0}),I(i,()=>{x()},{childList:!0,subtree:!0,attributes:!0}),Q(i,()=>{x(),L()});const C=async o=>{await V(),i.value&&o(i.value)},H=async o=>{C(f=>{f.scrollLeft+=o.deltaY})};return X(async()=>{C(o=>{o.addEventListener("wheel",H)})}),Z(async()=>{C(o=>{o.removeEventListener("wheel",H)})}),(o,f)=>{const G=z;return n(),r("div",{class:g(["tabs-wrapper",{"shadow-pseudo":t(c),"shadow-left":!t(w),"shadow-right":!t(m)}])},[t(e).currentTabsInCacheSpace.length?(n(),r("ul",{key:0,ref_key:"refTabList",ref:i,class:"tab-list-box"},[(n(!0),r(D,null,R(t(e).currentTabsInCacheSpace,v=>{var K;return n(),r("li",{key:v.tabKey,ref_for:!0,ref_key:"refsTabs",ref:k,class:g(["tab-item-box",{active:v.tabKey===((K=t(e).currentCacheSpace)==null?void 0:K.activeTabKey)}]),onClick:P=>l(v)},[a("span",{title:v.customLabel||v.label,class:"tab-item-label"},j(v.customLabel||v.label),9,de),t(p)?b("",!0):(n(),r("div",{key:0,class:"tab-item-icon flex items-center",onClick:N(P=>h(v),["stop"])},[_(G,{component:t(M)},null,8,["component"])],8,_e))],10,pe)}),128))],512)):b("",!0)],2)}}}),me=y(he,[["__scopeId","data-v-0b511a66"]]),ve={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},be=d({name:"KeyboardDoubleArrowDownFilled",render:function(s,e){return n(),r("svg",ve,e[0]||(e[0]=[a("path",{d:"M18 6.41L16.59 5L12 9.58L7.41 5L6 6.41l6 6z",fill:"currentColor"},null,-1),a("path",{d:"M18 13l-1.41-1.41L12 16.17l-4.59-4.58L6 13l6 6z",fill:"currentColor"},null,-1)]))}}),fe={key:0,class:"close-icon focus"},we={class:"tabs-options-body"},ke=["onClick"],ge=["title"],Te=["onClick"],xe=d({name:"TabsOptions",__name:"TabsOptions",setup(u){const s=A(),e=U(),p=B(()=>e.currentTabsInCacheSpace.length===1),l=w=>{s.push(w.link)},h=w=>{e.removeTabFromCacheSpace(w)},i=()=>{p.value||e.removeOtherTabsFromCacheSpace()},T=$(!1);return(w,m)=>{const k=z,L=E;return n(),S(L,{trigger:"hover",style:{width:"236px"},delay:300,class:"tabs-options-box",flip:"","onUpdate:show":m[1]||(m[1]=c=>T.value=c)},{trigger:O(()=>[a("div",{class:g(["tabs-options-action hover-bg-#cacfd8 dark:hover-c-#303133",{"bg-#cacfd8 dark:c-#303133":t(T)}])},[_(k,{component:t(be)},null,8,["component"])],2)]),default:O(()=>[a("div",{class:g(["tabs-options-header",{disabled:t(p)}]),onClick:m[0]||(m[0]=c=>i())},[t(p)?b("",!0):(n(),r("span",fe,[_(k,{component:t(M)},null,8,["component"])])),m[2]||(m[2]=a("span",{class:"close-other-text"},"关闭其他标签",-1))],2),a("ul",we,[(n(!0),r(D,null,R(t(e).currentTabsInCacheSpace,c=>{var x;return n(),r("li",{key:c.tabKey,class:g(["tabs-options-list-item",{active:c.tabKey===((x=t(e).currentCacheSpace)==null?void 0:x.activeTabKey)}]),onClick:C=>l(c)},[a("span",{title:c.customLabel||c.label,class:"tabs-options-label"},j(c.customLabel||c.label),9,ge),t(e).currentTabsInCacheSpace.length!==1?(n(),r("div",{key:0,class:"close-icon right",onClick:N(C=>h(c),["stop"])},[_(k,{component:t(M)},null,8,["component"])],8,Te)):b("",!0)],10,ke)}),128))])]),_:1})}}}),Ce={key:0,class:"work-tabs__controller bg-#fff dark:bg-#333333"},ye=d({name:"TabsController",__name:"TabsController",setup(u){const s=te(),e=B(()=>s.name!=="GroupProjectList"),p=B(()=>s.name!=="GroupProjectOverview");return(l,h)=>t(e)?(n(),r("div",Ce,[t(p)?b("",!0):(n(),S(ce,{key:0})),t(p)?(n(),S(ie,{key:1})):b("",!0),_(me),_(xe)])):b("",!0)}}),Le=y(ye,[["__scopeId","data-v-30aa823e"]]),$e={class:"layout-area-container bg-#fff dark:bg-#1e1e20"},Se={class:"layout-area-container__top"},Oe={class:"layout-area-container__bottom"},Be=d({name:"LayoutArea",__name:"LayoutArea",props:{minHeight:{type:Boolean,default:!1}},setup(u){return(s,e)=>(n(),r("div",$e,[a("div",Se,[F(s.$slots,"top",{},void 0,!0),_(Le)]),a("div",Oe,[a("section",{class:g(["flex-1",{"overflow-y-auto":!1,"min-h-0":u.minHeight}])},[F(s.$slots,"content",{},void 0,!0)],2),F(s.$slots,"footer",{},void 0,!0)])]))}}),Ne=y(Be,[["__scopeId","data-v-4489e434"]]);export{Ne as default};
