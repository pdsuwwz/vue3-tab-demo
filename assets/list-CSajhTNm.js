import C from"./LayoutArea-BT3-i4rk.js";import{_ as B}from"./LayoutSection-CoodITJI.js";import{N as _,a as f}from"./NavBar-BoaB2u1C.js";import k from"./ProjectForm-4X6QfX8V.js";import y from"./TableHeader-Dz5-3Tcf.js";import{P as b,u as E}from"./TableBody-DhEXUrZC.js";import{u as T}from"./useCurrentInstance-DNBp002o.js";import{d as v,b as L,e as V,o as w,f as S,ad as F,a3 as H,n as $,c as O,w as t,r as m,g as o,m as u,ac as z}from"./index-Dr4_a72h.js";import{_ as A}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as I}from"./DatePicker-CyQB7ab6.js";import{N as D}from"./Icon-CNNNq4Jw.js";import"./useTabRouter-DlKZy4ti.js";import"./store-B_CjgmQ2.js";import"./Popover-BuY15bb9.js";import"./Follower-RfDnNUhg.js";import"./next-frame-once-C5Ksf8W7.js";import"./get-DCJZEGYX.js";import"./use-compitable-BlQ8ajn3.js";import"./Space-BaisQgXY.js";import"./get-slot-Bk_rJcZu.js";import"./Dropdown-D6dtzICB.js";import"./create-D3Vn69pI.js";import"./logo-naive-DXiMhdiw.js";import"./Octocat-C2MrXMo2.js";import"./Tooltip-BIp_2ClS.js";import"./FormItem-BfPgMa0X.js";import"./Input-LioKrBBj.js";import"./Eye-QwoqVdpH.js";import"./ProjectItem-CGiycBFq.js";import"./index-BlUooH6Z.js";import"./Spin-CzZdO-v3.js";import"./FocusDetector-DZm3z5N2.js";import"./Forward-CnvwFDTW.js";const M={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},R=v({name:"CreateNewFolderOutlined",render:function(e,n){return w(),L("svg",M,n[0]||(n[0]=[V("path",{d:"M20 6h-8l-2-2H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm0 12H4V6h5.17l2 2H20v10zm-8-4h2v2h2v-2h2v-2h-2v-2h-2v2h-2z",fill:"currentColor"},null,-1)]))}}),q=v({name:"ProjectList",components:{NavigationNavBar:f,NavigationSideLogo:_,ProjectTableHeader:y,ProjectTableBody:b,CreateNewFolderOutlined:R},setup(){T();const r=E(),e=S();async function n(){const a=F({name:"",corpName:"",notes:""});await H();const s=window.$ModalDialog.create({title:"创建项目",style:{width:"50vw"},closable:!0,maskClosable:!1,closeOnEsc:!1,content:()=>$(k,{modelValue:a,ref:e}),positiveText:"创建",async onPositiveClick(){if(!await e.value.validateRules())return Promise.reject(new Error("表单校验失败"));s.loading=!0;const{error:c,data:p}=await r.createProject(a);if(s.loading=!1,c)return Promise.reject(new Error("创建失败"));r.getProjectList()}})}function i(a){r.getProjectList({kw:a})}return i(),{handleCreateProject:n,handleSelectSearch:i}}});function G(r,e,n,i,a,s){const l=_,c=f,p=m("CreateNewFolderOutlined"),g=D,P=z,d=B,j=I,N=m("ProjectTableHeader"),h=m("ProjectTableBody"),x=C;return w(),O(x,null,{top:t(()=>[o(c,{fixed:!1},{default:t(()=>[o(l)]),_:1})]),side:t(()=>[o(d,{title:"项目管理"},{default:t(()=>[o(P,{type:"primary",class:"create-action",onClick:e[0]||(e[0]=J=>r.handleCreateProject())},{icon:t(()=>[o(g,null,{default:t(()=>[o(p)]),_:1})]),default:t(()=>[e[1]||(e[1]=u(" 创建项目 "))]),_:1})]),_:1})]),content:t(()=>[o(d,{"has-divider":"","flex-content":""},{head:t(()=>[o(j,{type:"datetimerange"},{footer:t(()=>e[2]||(e[2]=[u(" extra footer ")])),_:1})]),default:t(()=>[o(N),o(h)]),_:1})]),_:1})}const kt=A(q,[["render",G],["__scopeId","data-v-8f762e3d"]]);export{kt as default};
