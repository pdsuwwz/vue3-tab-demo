import B from"./LayoutArea-D0PLsfrb.js";import{_ as C}from"./LayoutSection-BrmsSwkT.js";import{N as u,a as f}from"./NavBar-B1IMh3tV.js";import k from"./ProjectForm-DYLSMOVo.js";import y from"./TableHeader-DZN99AzG.js";import{P as b,u as E}from"./TableBody-1SIYzZ5-.js";import{d as v,o as w,b as T,e as L,g as V,ac as S,a3 as F,n as H,c as $,w as e,r as m,i as t,m as _,ad as O}from"./index-BKhi4FxM.js";import{_ as z}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{N as A}from"./Icon-BLaVS1jP.js";import{_ as D}from"./DatePicker-ClmbB6_o.js";import"./useTabRouter-C_HPXyoc.js";import"./store-oTmHPh-k.js";import"./Popover-Ck4uvEuu.js";import"./Follower-D9AS3uyg.js";import"./next-frame-once-C5Ksf8W7.js";import"./get-CMpYxWG2.js";import"./use-compitable-BJHz0pPo.js";import"./Space-CmZ_wT0M.js";import"./get-slot-Bk_rJcZu.js";import"./useCurrentInstance-BkTYeHMt.js";import"./Dropdown-VdH_eMJH.js";import"./create-D3Vn69pI.js";import"./logo-naive-DXiMhdiw.js";import"./Octocat-vjlUjYNm.js";import"./Tooltip-BnslFy1G.js";import"./FormItem-DNg4I-Vn.js";import"./Input-C5IRk3XE.js";import"./Eye-Dt3Q3uiE.js";import"./ProjectItem-DktFcuuY.js";import"./index-D0Jahmmh.js";import"./Spin-DFxJbfvn.js";import"./FocusDetector-DGlz_PDO.js";import"./Forward-BAnel2bz.js";const I={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},M=L("path",{d:"M20 6h-8l-2-2H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm0 12H4V6h5.17l2 2H20v10zm-8-4h2v2h2v-2h2v-2h-2v-2h-2v2h-2z",fill:"currentColor"},null,-1),R=[M],q=v({name:"CreateNewFolderOutlined",render:function(r,a){return w(),T("svg",I,R)}}),G=v({name:"ProjectList",components:{NavigationNavBar:u,NavigationSideLogo:f,ProjectTableHeader:y,ProjectTableBody:b,CreateNewFolderOutlined:q},setup(){const o=E(),r=V();async function a(){const n=S({name:"",corpName:"",notes:""});await F();const c=window.$ModalDialog.create({title:"创建项目",style:{width:"50vw"},closable:!0,maskClosable:!1,closeOnEsc:!1,content:()=>H(k,{modelValue:n,ref:r}),positiveText:"创建",async onPositiveClick(){if(!await r.value.validateRules())return Promise.reject(new Error("表单校验失败"));c.loading=!0;const{error:s,data:p}=await o.createProject(n);if(c.loading=!1,s)return Promise.reject(new Error("创建失败"));o.getProjectList()}})}function i(n){o.getProjectList({kw:n})}return i(),{handleCreateProject:a,handleSelectSearch:i}}});function J(o,r,a,i,n,c){const l=f,s=u,p=m("CreateNewFolderOutlined"),h=A,g=O,d=C,P=D,j=m("ProjectTableHeader"),N=m("ProjectTableBody"),x=B;return w(),$(x,null,{top:e(()=>[t(s,{fixed:!1},{default:e(()=>[t(l)]),_:1})]),side:e(()=>[t(d,{title:"项目管理"},{default:e(()=>[t(g,{type:"primary",class:"create-action",onClick:r[0]||(r[0]=K=>o.handleCreateProject())},{icon:e(()=>[t(h,null,{default:e(()=>[t(p)]),_:1})]),default:e(()=>[_(" 创建项目 ")]),_:1})]),_:1})]),content:e(()=>[t(d,{"has-divider":"","flex-content":""},{head:e(()=>[t(P,{type:"datetimerange"},{footer:e(()=>[_(" extra footer ")]),_:1})]),default:e(()=>[t(j),t(N)]),_:1})]),_:1})}const ye=z(G,[["render",J],["__scopeId","data-v-8f762e3d"]]);export{ye as default};
