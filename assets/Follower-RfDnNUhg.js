import{bd as E,be as I,bf as gt,bg as ut,bh as B,bi as k,U,aD as V,aN as Bt,E as dt,f as j,a4 as P,a6 as O,T as _,J as x,bj as zt,bk as At,bl as Ct,d as q,bm as St,Y as Ot,W as jt,aj as pt,bn as R,bo as Et,n as N,bp as It,bq as Vt,br as Yt,I as A,B as D,an as Xt,a3 as Nt}from"./index-Dr4_a72h.js";import{b as Dt}from"./next-frame-once-C5Ksf8W7.js";var F=E(I,"WeakMap");function Tt(n,t){for(var e=-1,o=t.length,l=n.length;++e<o;)n[l+e]=t[e];return n}function Wt(n,t){for(var e=-1,o=n==null?0:n.length,l=0,p=[];++e<o;){var u=n[e];t(u,e,n)&&(p[l++]=u)}return p}function kt(){return[]}var Pt=Object.prototype,_t=Pt.propertyIsEnumerable,tt=Object.getOwnPropertySymbols,de=tt?function(n){return n==null?[]:(n=Object(n),Wt(tt(n),function(t){return _t.call(n,t)}))}:kt;function pe(n,t,e){var o=t(n);return gt(n)?o:Tt(o,e(n))}var L=E(I,"DataView"),K=E(I,"Promise"),G=E(I,"Set"),et="[object Map]",Ft="[object Object]",nt="[object Promise]",ot="[object Set]",rt="[object WeakMap]",it="[object DataView]",Lt=B(L),Kt=B(k),Gt=B(K),Ut=B(G),qt=B(F),$=ut;(L&&$(new L(new ArrayBuffer(1)))!=it||k&&$(new k)!=et||K&&$(K.resolve())!=nt||G&&$(new G)!=ot||F&&$(new F)!=rt)&&($=function(n){var t=ut(n),e=t==Ft?n.constructor:void 0,o=e?B(e):"";if(o)switch(o){case Lt:return it;case Kt:return et;case Gt:return nt;case Ut:return ot;case qt:return rt}return t});let g,z;const Jt=()=>{var n,t;g=Bt?(t=(n=document)===null||n===void 0?void 0:n.fonts)===null||t===void 0?void 0:t.ready:void 0,z=!1,g!==void 0?g.then(()=>{z=!0}):z=!0};Jt();function Ht(n){if(z)return;let t=!1;U(()=>{z||g==null||g.then(()=>{t||n()})}),V(()=>{t=!0})}const he=dt("n-internal-select-menu"),Qt=dt("n-internal-select-menu-body"),ht="__disabled__";function ft(n){const t=x(zt,null),e=x(At,null),o=x(Ct,null),l=x(Qt,null),p=j();if(typeof document<"u"){p.value=document.fullscreenElement;const u=()=>{p.value=document.fullscreenElement};U(()=>{P("fullscreenchange",document,u)}),V(()=>{O("fullscreenchange",document,u)})}return _(()=>{var u;const{to:f}=n;return f!==void 0?f===!1?ht:f===!0?p.value||"body":f:t!=null&&t.value?(u=t.value.$el)!==null&&u!==void 0?u:t.value:e!=null&&e.value?e.value:o!=null&&o.value?o.value:l!=null&&l.value?l.value:f??(p.value||"body")})}ft.tdkey=ht;ft.propTo={type:[String,Object,Boolean],default:void 0};let y=null;function mt(){if(y===null&&(y=document.getElementById("v-binder-view-measurer"),y===null)){y=document.createElement("div"),y.id="v-binder-view-measurer";const{style:n}=y;n.position="fixed",n.left="0",n.right="0",n.top="0",n.bottom="0",n.pointerEvents="none",n.visibility="hidden",document.body.appendChild(y)}return y.getBoundingClientRect()}function Zt(n,t){const e=mt();return{top:t,left:n,height:0,width:0,right:e.width-n,bottom:e.height-t}}function T(n){const t=n.getBoundingClientRect(),e=mt();return{left:t.left-e.left,top:t.top-e.top,bottom:e.height+e.top-t.bottom,right:e.width+e.left-t.right,width:t.width,height:t.height}}function Rt(n){return n.nodeType===9?null:n.parentNode}function vt(n){if(n===null)return null;const t=Rt(n);if(t===null)return null;if(t.nodeType===9)return document;if(t.nodeType===1){const{overflow:e,overflowX:o,overflowY:l}=getComputedStyle(t);if(/(auto|scroll|overlay)/.test(e+l+o))return t}return vt(t)}const fe=q({name:"Binder",props:{syncTargetWithParent:Boolean,syncTarget:{type:Boolean,default:!0}},setup(n){var t;Ot("VBinder",(t=jt())===null||t===void 0?void 0:t.proxy);const e=x("VBinder",null),o=j(null),l=i=>{o.value=i,e&&n.syncTargetWithParent&&e.setTargetRef(i)};let p=[];const u=()=>{let i=o.value;for(;i=vt(i),i!==null;)p.push(i);for(const b of p)P("scroll",b,c,!0)},f=()=>{for(const i of p)O("scroll",i,c,!0);p=[]},s=new Set,v=i=>{s.size===0&&u(),s.has(i)||s.add(i)},w=i=>{s.has(i)&&s.delete(i),s.size===0&&f()},c=()=>{Dt(r)},r=()=>{s.forEach(i=>i())},a=new Set,h=i=>{a.size===0&&P("resize",window,m),a.has(i)||a.add(i)},d=i=>{a.has(i)&&a.delete(i),a.size===0&&O("resize",window,m)},m=()=>{a.forEach(i=>i())};return V(()=>{O("resize",window,m),f()}),{targetRef:o,setTargetRef:l,addScrollListener:v,removeScrollListener:w,addResizeListener:h,removeResizeListener:d}},render(){return St("binder",this.$slots)}}),me=q({name:"Target",setup(){const{setTargetRef:n,syncTarget:t}=x("VBinder");return{syncTarget:t,setTargetDirective:{mounted:n,updated:n}}},render(){const{syncTarget:n,setTargetDirective:t}=this;return n?pt(R("follower",this.$slots),[[t]]):R("follower",this.$slots)}}),{c:C}=Et(),te="vueuc-style",S={top:"bottom",bottom:"top",left:"right",right:"left"},lt={start:"end",center:"center",end:"start"},W={top:"height",bottom:"height",left:"width",right:"width"},ee={"bottom-start":"top left",bottom:"top center","bottom-end":"top right","top-start":"bottom left",top:"bottom center","top-end":"bottom right","right-start":"top left",right:"center left","right-end":"bottom left","left-start":"top right",left:"center right","left-end":"bottom right"},ne={"bottom-start":"bottom left",bottom:"bottom center","bottom-end":"bottom right","top-start":"top left",top:"top center","top-end":"top right","right-start":"top right",right:"center right","right-end":"bottom right","left-start":"top left",left:"center left","left-end":"bottom left"},oe={"bottom-start":"right","bottom-end":"left","top-start":"right","top-end":"left","right-start":"bottom","right-end":"top","left-start":"bottom","left-end":"top"},st={top:!0,bottom:!1,left:!0,right:!1},at={top:"end",bottom:"start",left:"end",right:"start"};function re(n,t,e,o,l,p){if(!l||p)return{placement:n,top:0,left:0};const[u,f]=n.split("-");let s=f??"center",v={top:0,left:0};const w=(a,h,d)=>{let m=0,i=0;const b=e[a]-t[h]-t[a];return b>0&&o&&(d?i=st[h]?b:-b:m=st[h]?b:-b),{left:m,top:i}},c=u==="left"||u==="right";if(s!=="center"){const a=oe[n],h=S[a],d=W[a];if(e[d]>t[d]){if(t[a]+t[d]<e[d]){const m=(e[d]-t[d])/2;t[a]<m||t[h]<m?t[a]<t[h]?(s=lt[f],v=w(d,h,c)):v=w(d,a,c):s="center"}}else e[d]<t[d]&&t[h]<0&&t[a]>t[h]&&(s=lt[f])}else{const a=u==="bottom"||u==="top"?"left":"top",h=S[a],d=W[a],m=(e[d]-t[d])/2;(t[a]<m||t[h]<m)&&(t[a]>t[h]?(s=at[a],v=w(d,a,c)):(s=at[h],v=w(d,h,c)))}let r=u;return t[u]<e[W[u]]&&t[u]<t[S[u]]&&(r=S[u]),{placement:s!=="center"?`${r}-${s}`:r,left:v.left,top:v.top}}function ie(n,t){return t?ne[n]:ee[n]}function le(n,t,e,o,l,p){if(p)switch(n){case"bottom-start":return{top:`${Math.round(e.top-t.top+e.height)}px`,left:`${Math.round(e.left-t.left)}px`,transform:"translateY(-100%)"};case"bottom-end":return{top:`${Math.round(e.top-t.top+e.height)}px`,left:`${Math.round(e.left-t.left+e.width)}px`,transform:"translateX(-100%) translateY(-100%)"};case"top-start":return{top:`${Math.round(e.top-t.top)}px`,left:`${Math.round(e.left-t.left)}px`,transform:""};case"top-end":return{top:`${Math.round(e.top-t.top)}px`,left:`${Math.round(e.left-t.left+e.width)}px`,transform:"translateX(-100%)"};case"right-start":return{top:`${Math.round(e.top-t.top)}px`,left:`${Math.round(e.left-t.left+e.width)}px`,transform:"translateX(-100%)"};case"right-end":return{top:`${Math.round(e.top-t.top+e.height)}px`,left:`${Math.round(e.left-t.left+e.width)}px`,transform:"translateX(-100%) translateY(-100%)"};case"left-start":return{top:`${Math.round(e.top-t.top)}px`,left:`${Math.round(e.left-t.left)}px`,transform:""};case"left-end":return{top:`${Math.round(e.top-t.top+e.height)}px`,left:`${Math.round(e.left-t.left)}px`,transform:"translateY(-100%)"};case"top":return{top:`${Math.round(e.top-t.top)}px`,left:`${Math.round(e.left-t.left+e.width/2)}px`,transform:"translateX(-50%)"};case"right":return{top:`${Math.round(e.top-t.top+e.height/2)}px`,left:`${Math.round(e.left-t.left+e.width)}px`,transform:"translateX(-100%) translateY(-50%)"};case"left":return{top:`${Math.round(e.top-t.top+e.height/2)}px`,left:`${Math.round(e.left-t.left)}px`,transform:"translateY(-50%)"};case"bottom":default:return{top:`${Math.round(e.top-t.top+e.height)}px`,left:`${Math.round(e.left-t.left+e.width/2)}px`,transform:"translateX(-50%) translateY(-100%)"}}switch(n){case"bottom-start":return{top:`${Math.round(e.top-t.top+e.height+o)}px`,left:`${Math.round(e.left-t.left+l)}px`,transform:""};case"bottom-end":return{top:`${Math.round(e.top-t.top+e.height+o)}px`,left:`${Math.round(e.left-t.left+e.width+l)}px`,transform:"translateX(-100%)"};case"top-start":return{top:`${Math.round(e.top-t.top+o)}px`,left:`${Math.round(e.left-t.left+l)}px`,transform:"translateY(-100%)"};case"top-end":return{top:`${Math.round(e.top-t.top+o)}px`,left:`${Math.round(e.left-t.left+e.width+l)}px`,transform:"translateX(-100%) translateY(-100%)"};case"right-start":return{top:`${Math.round(e.top-t.top+o)}px`,left:`${Math.round(e.left-t.left+e.width+l)}px`,transform:""};case"right-end":return{top:`${Math.round(e.top-t.top+e.height+o)}px`,left:`${Math.round(e.left-t.left+e.width+l)}px`,transform:"translateY(-100%)"};case"left-start":return{top:`${Math.round(e.top-t.top+o)}px`,left:`${Math.round(e.left-t.left+l)}px`,transform:"translateX(-100%)"};case"left-end":return{top:`${Math.round(e.top-t.top+e.height+o)}px`,left:`${Math.round(e.left-t.left+l)}px`,transform:"translateX(-100%) translateY(-100%)"};case"top":return{top:`${Math.round(e.top-t.top+o)}px`,left:`${Math.round(e.left-t.left+e.width/2+l)}px`,transform:"translateY(-100%) translateX(-50%)"};case"right":return{top:`${Math.round(e.top-t.top+e.height/2+o)}px`,left:`${Math.round(e.left-t.left+e.width+l)}px`,transform:"translateY(-50%)"};case"left":return{top:`${Math.round(e.top-t.top+e.height/2+o)}px`,left:`${Math.round(e.left-t.left+l)}px`,transform:"translateY(-50%) translateX(-100%)"};case"bottom":default:return{top:`${Math.round(e.top-t.top+e.height+o)}px`,left:`${Math.round(e.left-t.left+e.width/2+l)}px`,transform:"translateX(-50%)"}}}const se=C([C(".v-binder-follower-container",{position:"absolute",left:"0",right:"0",top:"0",height:"0",pointerEvents:"none",zIndex:"auto"}),C(".v-binder-follower-content",{position:"absolute",zIndex:"auto"},[C("> *",{pointerEvents:"all"})])]),ve=q({name:"Follower",inheritAttrs:!1,props:{show:Boolean,enabled:{type:Boolean,default:void 0},placement:{type:String,default:"bottom"},syncTrigger:{type:Array,default:["resize","scroll"]},to:[String,Object],flip:{type:Boolean,default:!0},internalShift:Boolean,x:Number,y:Number,width:String,minWidth:String,containerClass:String,teleportDisabled:Boolean,zindexable:{type:Boolean,default:!0},zIndex:Number,overlap:Boolean},setup(n){const t=x("VBinder"),e=_(()=>n.enabled!==void 0?n.enabled:n.show),o=j(null),l=j(null),p=()=>{const{syncTrigger:r}=n;r.includes("scroll")&&t.addScrollListener(s),r.includes("resize")&&t.addResizeListener(s)},u=()=>{t.removeScrollListener(s),t.removeResizeListener(s)};U(()=>{e.value&&(s(),p())});const f=Yt();se.mount({id:"vueuc/binder",head:!0,anchorMetaName:te,ssr:f}),V(()=>{u()}),Ht(()=>{e.value&&s()});const s=()=>{if(!e.value)return;const r=o.value;if(r===null)return;const a=t.targetRef,{x:h,y:d,overlap:m}=n,i=h!==void 0&&d!==void 0?Zt(h,d):T(a);r.style.setProperty("--v-target-width",`${Math.round(i.width)}px`),r.style.setProperty("--v-target-height",`${Math.round(i.height)}px`);const{width:b,minWidth:Y,placement:J,internalShift:bt,flip:ct}=n;r.setAttribute("v-placement",J),m?r.setAttribute("v-overlap",""):r.removeAttribute("v-overlap");const{style:M}=r;b==="target"?M.width=`${i.width}px`:b!==void 0?M.width=b:M.width="",Y==="target"?M.minWidth=`${i.width}px`:Y!==void 0?M.minWidth=Y:M.minWidth="";const wt=T(r),yt=T(l.value),{left:H,top:Q,placement:X}=re(J,i,wt,bt,ct,m),Z=ie(X,m),{left:xt,top:Mt,transform:$t}=le(X,yt,i,Q,H,m);r.setAttribute("v-placement",X),r.style.setProperty("--v-offset-left",`${Math.round(H)}px`),r.style.setProperty("--v-offset-top",`${Math.round(Q)}px`),r.style.transform=`translateX(${xt}) translateY(${Mt}) ${$t}`,r.style.setProperty("--v-transform-origin",Z),r.style.transformOrigin=Z};A(e,r=>{r?(p(),v()):u()});const v=()=>{Nt().then(s).catch(r=>{})};["placement","x","y","internalShift","flip","width","overlap","minWidth"].forEach(r=>{A(D(n,r),s)}),["teleportDisabled"].forEach(r=>{A(D(n,r),v)}),A(D(n,"syncTrigger"),r=>{r.includes("resize")?t.addResizeListener(s):t.removeResizeListener(s),r.includes("scroll")?t.addScrollListener(s):t.removeScrollListener(s)});const w=Xt(),c=_(()=>{const{to:r}=n;if(r!==void 0)return r;w.value});return{VBinder:t,mergedEnabled:e,offsetContainerRef:l,followerRef:o,mergedTo:c,syncPosition:s}},render(){return N(It,{show:this.show,to:this.mergedTo,disabled:this.teleportDisabled},{default:()=>{var n,t;const e=N("div",{class:["v-binder-follower-container",this.containerClass],ref:"offsetContainerRef"},[N("div",{class:"v-binder-follower-content",ref:"followerRef"},(t=(n=this.$slots).default)===null||t===void 0?void 0:t.call(n))]);return this.zindexable?pt(e,[[Vt,{enabled:this.mergedEnabled,zIndex:this.zIndex}]]):e}})}});export{fe as B,me as V,ve as a,Qt as b,C as c,te as d,pe as e,$ as f,de as g,Tt as h,he as i,kt as s,ft as u};
