import{bh as E,bi as V,bj as $t,bk as zt,bl as At,bm as Bt,bn as Ot,bo as z,bp as ut,bq as D,T as H,aH as I,aR as St,E as dt,H as x,br as Ct,bs as jt,bt as Et,g as j,a4 as W,a6 as C,S as K,d as U,W as Vt,U as It,bu as Xt,al as pt,bv as R,bw as Yt,bx as kt,G as B,A as k,aj as Nt,n as N,by as Pt,bz as Tt,a3 as Dt}from"./index-iLhBIVOw.js";import{b as Wt}from"./next-frame-once-C5Ksf8W7.js";var L=E(V,"WeakMap"),Kt=$t(Object.keys,Object),Lt=Object.prototype,_t=Lt.hasOwnProperty;function Ft(n){if(!zt(n))return Kt(n);var t=[];for(var e in Object(n))_t.call(n,e)&&e!="constructor"&&t.push(e);return t}function Gt(n){return At(n)?Bt(n):Ft(n)}function Ht(n,t){for(var e=-1,r=t.length,l=n.length;++e<r;)n[l+e]=t[e];return n}function Ut(n,t){for(var e=-1,r=n==null?0:n.length,l=0,p=[];++e<r;){var u=n[e];t(u,e,n)&&(p[l++]=u)}return p}function qt(){return[]}var Jt=Object.prototype,Qt=Jt.propertyIsEnumerable,tt=Object.getOwnPropertySymbols,Zt=tt?function(n){return n==null?[]:(n=Object(n),Ut(tt(n),function(t){return Qt.call(n,t)}))}:qt;function Rt(n,t,e){var r=t(n);return Ot(n)?r:Ht(r,e(n))}function Me(n){return Rt(n,Gt,Zt)}var _=E(V,"DataView"),F=E(V,"Promise"),G=E(V,"Set"),et="[object Map]",te="[object Object]",nt="[object Promise]",rt="[object Set]",ot="[object WeakMap]",it="[object DataView]",ee=z(_),ne=z(D),re=z(F),oe=z(G),ie=z(L),g=ut;(_&&g(new _(new ArrayBuffer(1)))!=it||D&&g(new D)!=et||F&&g(F.resolve())!=nt||G&&g(new G)!=rt||L&&g(new L)!=ot)&&(g=function(n){var t=ut(n),e=t==te?n.constructor:void 0,r=e?z(e):"";if(r)switch(r){case ee:return it;case ne:return et;case re:return nt;case oe:return rt;case ie:return ot}return t});let $,A;const le=()=>{var n,t;$=St?(t=(n=document)===null||n===void 0?void 0:n.fonts)===null||t===void 0?void 0:t.ready:void 0,A=!1,$!==void 0?$.then(()=>{A=!0}):A=!0};le();function se(n){if(A)return;let t=!1;H(()=>{A||$==null||$.then(()=>{t||n()})}),I(()=>{t=!0})}const ge=dt("n-internal-select-menu"),ae=dt("n-internal-select-menu-body"),ht="__disabled__";function ft(n){const t=x(Ct,null),e=x(jt,null),r=x(Et,null),l=x(ae,null),p=j();if(typeof document<"u"){p.value=document.fullscreenElement;const u=()=>{p.value=document.fullscreenElement};H(()=>{W("fullscreenchange",document,u)}),I(()=>{C("fullscreenchange",document,u)})}return K(()=>{var u;const{to:f}=n;return f!==void 0?f===!1?ht:f===!0?p.value||"body":f:t!=null&&t.value?(u=t.value.$el)!==null&&u!==void 0?u:t.value:e!=null&&e.value?e.value:r!=null&&r.value?r.value:l!=null&&l.value?l.value:f??(p.value||"body")})}ft.tdkey=ht;ft.propTo={type:[String,Object,Boolean],default:void 0};let y=null;function vt(){if(y===null&&(y=document.getElementById("v-binder-view-measurer"),y===null)){y=document.createElement("div"),y.id="v-binder-view-measurer";const{style:n}=y;n.position="fixed",n.left="0",n.right="0",n.top="0",n.bottom="0",n.pointerEvents="none",n.visibility="hidden",document.body.appendChild(y)}return y.getBoundingClientRect()}function ue(n,t){const e=vt();return{top:t,left:n,height:0,width:0,right:e.width-n,bottom:e.height-t}}function P(n){const t=n.getBoundingClientRect(),e=vt();return{left:t.left-e.left,top:t.top-e.top,bottom:e.height+e.top-t.bottom,right:e.width+e.left-t.right,width:t.width,height:t.height}}function de(n){return n.nodeType===9?null:n.parentNode}function mt(n){if(n===null)return null;const t=de(n);if(t===null)return null;if(t.nodeType===9)return document;if(t.nodeType===1){const{overflow:e,overflowX:r,overflowY:l}=getComputedStyle(t);if(/(auto|scroll|overlay)/.test(e+l+r))return t}return mt(t)}const $e=U({name:"Binder",props:{syncTargetWithParent:Boolean,syncTarget:{type:Boolean,default:!0}},setup(n){var t;Vt("VBinder",(t=It())===null||t===void 0?void 0:t.proxy);const e=x("VBinder",null),r=j(null),l=i=>{r.value=i,e&&n.syncTargetWithParent&&e.setTargetRef(i)};let p=[];const u=()=>{let i=r.value;for(;i=mt(i),i!==null;)p.push(i);for(const b of p)W("scroll",b,c,!0)},f=()=>{for(const i of p)C("scroll",i,c,!0);p=[]},s=new Set,m=i=>{s.size===0&&u(),s.has(i)||s.add(i)},w=i=>{s.has(i)&&s.delete(i),s.size===0&&f()},c=()=>{Wt(o)},o=()=>{s.forEach(i=>i())},a=new Set,h=i=>{a.size===0&&W("resize",window,v),a.has(i)||a.add(i)},d=i=>{a.has(i)&&a.delete(i),a.size===0&&C("resize",window,v)},v=()=>{a.forEach(i=>i())};return I(()=>{C("resize",window,v),f()}),{targetRef:r,setTargetRef:l,addScrollListener:m,removeScrollListener:w,addResizeListener:h,removeResizeListener:d}},render(){return Xt("binder",this.$slots)}}),ze=U({name:"Target",setup(){const{setTargetRef:n,syncTarget:t}=x("VBinder");return{syncTarget:t,setTargetDirective:{mounted:n,updated:n}}},render(){const{syncTarget:n,setTargetDirective:t}=this;return n?pt(R("follower",this.$slots),[[t]]):R("follower",this.$slots)}}),{c:O}=Yt(),pe="vueuc-style",S={top:"bottom",bottom:"top",left:"right",right:"left"},lt={start:"end",center:"center",end:"start"},T={top:"height",bottom:"height",left:"width",right:"width"},he={"bottom-start":"top left",bottom:"top center","bottom-end":"top right","top-start":"bottom left",top:"bottom center","top-end":"bottom right","right-start":"top left",right:"center left","right-end":"bottom left","left-start":"top right",left:"center right","left-end":"bottom right"},fe={"bottom-start":"bottom left",bottom:"bottom center","bottom-end":"bottom right","top-start":"top left",top:"top center","top-end":"top right","right-start":"top right",right:"center right","right-end":"bottom right","left-start":"top left",left:"center left","left-end":"bottom left"},ve={"bottom-start":"right","bottom-end":"left","top-start":"right","top-end":"left","right-start":"bottom","right-end":"top","left-start":"bottom","left-end":"top"},st={top:!0,bottom:!1,left:!0,right:!1},at={top:"end",bottom:"start",left:"end",right:"start"};function me(n,t,e,r,l,p){if(!l||p)return{placement:n,top:0,left:0};const[u,f]=n.split("-");let s=f??"center",m={top:0,left:0};const w=(a,h,d)=>{let v=0,i=0;const b=e[a]-t[h]-t[a];return b>0&&r&&(d?i=st[h]?b:-b:v=st[h]?b:-b),{left:v,top:i}},c=u==="left"||u==="right";if(s!=="center"){const a=ve[n],h=S[a],d=T[a];if(e[d]>t[d]){if(t[a]+t[d]<e[d]){const v=(e[d]-t[d])/2;t[a]<v||t[h]<v?t[a]<t[h]?(s=lt[f],m=w(d,h,c)):m=w(d,a,c):s="center"}}else e[d]<t[d]&&t[h]<0&&t[a]>t[h]&&(s=lt[f])}else{const a=u==="bottom"||u==="top"?"left":"top",h=S[a],d=T[a],v=(e[d]-t[d])/2;(t[a]<v||t[h]<v)&&(t[a]>t[h]?(s=at[a],m=w(d,a,c)):(s=at[h],m=w(d,h,c)))}let o=u;return t[u]<e[T[u]]&&t[u]<t[S[u]]&&(o=S[u]),{placement:s!=="center"?`${o}-${s}`:o,left:m.left,top:m.top}}function be(n,t){return t?fe[n]:he[n]}function ce(n,t,e,r,l,p){if(p)switch(n){case"bottom-start":return{top:`${Math.round(e.top-t.top+e.height)}px`,left:`${Math.round(e.left-t.left)}px`,transform:"translateY(-100%)"};case"bottom-end":return{top:`${Math.round(e.top-t.top+e.height)}px`,left:`${Math.round(e.left-t.left+e.width)}px`,transform:"translateX(-100%) translateY(-100%)"};case"top-start":return{top:`${Math.round(e.top-t.top)}px`,left:`${Math.round(e.left-t.left)}px`,transform:""};case"top-end":return{top:`${Math.round(e.top-t.top)}px`,left:`${Math.round(e.left-t.left+e.width)}px`,transform:"translateX(-100%)"};case"right-start":return{top:`${Math.round(e.top-t.top)}px`,left:`${Math.round(e.left-t.left+e.width)}px`,transform:"translateX(-100%)"};case"right-end":return{top:`${Math.round(e.top-t.top+e.height)}px`,left:`${Math.round(e.left-t.left+e.width)}px`,transform:"translateX(-100%) translateY(-100%)"};case"left-start":return{top:`${Math.round(e.top-t.top)}px`,left:`${Math.round(e.left-t.left)}px`,transform:""};case"left-end":return{top:`${Math.round(e.top-t.top+e.height)}px`,left:`${Math.round(e.left-t.left)}px`,transform:"translateY(-100%)"};case"top":return{top:`${Math.round(e.top-t.top)}px`,left:`${Math.round(e.left-t.left+e.width/2)}px`,transform:"translateX(-50%)"};case"right":return{top:`${Math.round(e.top-t.top+e.height/2)}px`,left:`${Math.round(e.left-t.left+e.width)}px`,transform:"translateX(-100%) translateY(-50%)"};case"left":return{top:`${Math.round(e.top-t.top+e.height/2)}px`,left:`${Math.round(e.left-t.left)}px`,transform:"translateY(-50%)"};case"bottom":default:return{top:`${Math.round(e.top-t.top+e.height)}px`,left:`${Math.round(e.left-t.left+e.width/2)}px`,transform:"translateX(-50%) translateY(-100%)"}}switch(n){case"bottom-start":return{top:`${Math.round(e.top-t.top+e.height+r)}px`,left:`${Math.round(e.left-t.left+l)}px`,transform:""};case"bottom-end":return{top:`${Math.round(e.top-t.top+e.height+r)}px`,left:`${Math.round(e.left-t.left+e.width+l)}px`,transform:"translateX(-100%)"};case"top-start":return{top:`${Math.round(e.top-t.top+r)}px`,left:`${Math.round(e.left-t.left+l)}px`,transform:"translateY(-100%)"};case"top-end":return{top:`${Math.round(e.top-t.top+r)}px`,left:`${Math.round(e.left-t.left+e.width+l)}px`,transform:"translateX(-100%) translateY(-100%)"};case"right-start":return{top:`${Math.round(e.top-t.top+r)}px`,left:`${Math.round(e.left-t.left+e.width+l)}px`,transform:""};case"right-end":return{top:`${Math.round(e.top-t.top+e.height+r)}px`,left:`${Math.round(e.left-t.left+e.width+l)}px`,transform:"translateY(-100%)"};case"left-start":return{top:`${Math.round(e.top-t.top+r)}px`,left:`${Math.round(e.left-t.left+l)}px`,transform:"translateX(-100%)"};case"left-end":return{top:`${Math.round(e.top-t.top+e.height+r)}px`,left:`${Math.round(e.left-t.left+l)}px`,transform:"translateX(-100%) translateY(-100%)"};case"top":return{top:`${Math.round(e.top-t.top+r)}px`,left:`${Math.round(e.left-t.left+e.width/2+l)}px`,transform:"translateY(-100%) translateX(-50%)"};case"right":return{top:`${Math.round(e.top-t.top+e.height/2+r)}px`,left:`${Math.round(e.left-t.left+e.width+l)}px`,transform:"translateY(-50%)"};case"left":return{top:`${Math.round(e.top-t.top+e.height/2+r)}px`,left:`${Math.round(e.left-t.left+l)}px`,transform:"translateY(-50%) translateX(-100%)"};case"bottom":default:return{top:`${Math.round(e.top-t.top+e.height+r)}px`,left:`${Math.round(e.left-t.left+e.width/2+l)}px`,transform:"translateX(-50%)"}}}const we=O([O(".v-binder-follower-container",{position:"absolute",left:"0",right:"0",top:"0",height:"0",pointerEvents:"none",zIndex:"auto"}),O(".v-binder-follower-content",{position:"absolute",zIndex:"auto"},[O("> *",{pointerEvents:"all"})])]),Ae=U({name:"Follower",inheritAttrs:!1,props:{show:Boolean,enabled:{type:Boolean,default:void 0},placement:{type:String,default:"bottom"},syncTrigger:{type:Array,default:["resize","scroll"]},to:[String,Object],flip:{type:Boolean,default:!0},internalShift:Boolean,x:Number,y:Number,width:String,minWidth:String,containerClass:String,teleportDisabled:Boolean,zindexable:{type:Boolean,default:!0},zIndex:Number,overlap:Boolean},setup(n){const t=x("VBinder"),e=K(()=>n.enabled!==void 0?n.enabled:n.show),r=j(null),l=j(null),p=()=>{const{syncTrigger:o}=n;o.includes("scroll")&&t.addScrollListener(s),o.includes("resize")&&t.addResizeListener(s)},u=()=>{t.removeScrollListener(s),t.removeResizeListener(s)};H(()=>{e.value&&(s(),p())});const f=kt();we.mount({id:"vueuc/binder",head:!0,anchorMetaName:pe,ssr:f}),I(()=>{u()}),se(()=>{e.value&&s()});const s=()=>{if(!e.value)return;const o=r.value;if(o===null)return;const a=t.targetRef,{x:h,y:d,overlap:v}=n,i=h!==void 0&&d!==void 0?ue(h,d):P(a);o.style.setProperty("--v-target-width",`${Math.round(i.width)}px`),o.style.setProperty("--v-target-height",`${Math.round(i.height)}px`);const{width:b,minWidth:X,placement:q,internalShift:bt,flip:ct}=n;o.setAttribute("v-placement",q),v?o.setAttribute("v-overlap",""):o.removeAttribute("v-overlap");const{style:M}=o;b==="target"?M.width=`${i.width}px`:b!==void 0?M.width=b:M.width="",X==="target"?M.minWidth=`${i.width}px`:X!==void 0?M.minWidth=X:M.minWidth="";const wt=P(o),yt=P(l.value),{left:J,top:Q,placement:Y}=me(q,i,wt,bt,ct,v),Z=be(Y,v),{left:xt,top:Mt,transform:gt}=ce(Y,yt,i,Q,J,v);o.setAttribute("v-placement",Y),o.style.setProperty("--v-offset-left",`${Math.round(J)}px`),o.style.setProperty("--v-offset-top",`${Math.round(Q)}px`),o.style.transform=`translateX(${xt}) translateY(${Mt}) ${gt}`,o.style.setProperty("--v-transform-origin",Z),o.style.transformOrigin=Z};B(e,o=>{o?(p(),m()):u()});const m=()=>{Dt().then(s).catch(o=>{})};["placement","x","y","internalShift","flip","width","overlap","minWidth"].forEach(o=>{B(k(n,o),s)}),["teleportDisabled"].forEach(o=>{B(k(n,o),m)}),B(k(n,"syncTrigger"),o=>{o.includes("resize")?t.addResizeListener(s):t.removeResizeListener(s),o.includes("scroll")?t.addScrollListener(s):t.removeScrollListener(s)});const w=Nt(),c=K(()=>{const{to:o}=n;if(o!==void 0)return o;w.value});return{VBinder:t,mergedEnabled:e,offsetContainerRef:l,followerRef:r,mergedTo:c,syncPosition:s}},render(){return N(Tt,{show:this.show,to:this.mergedTo,disabled:this.teleportDisabled},{default:()=>{var n,t;const e=N("div",{class:["v-binder-follower-container",this.containerClass],ref:"offsetContainerRef"},[N("div",{class:"v-binder-follower-content",ref:"followerRef"},(t=(n=this.$slots).default)===null||t===void 0?void 0:t.call(n))]);return this.zindexable?pt(e,[[Pt,{enabled:this.mergedEnabled,zIndex:this.zIndex}]]):e}})}});export{$e as B,ze as V,Ae as a,ae as b,pe as c,O as d,g as e,Ht as f,Me as g,Zt as h,ge as i,Rt as j,Gt as k,qt as s,ft as u};
